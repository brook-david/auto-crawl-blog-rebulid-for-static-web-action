<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Flannel &#8211; DB`s Blog</title>
	<atom:link href="https://blog.wanderto.top/tag/flannel/feed/" rel="self" type="application/rss+xml" />
	<link>https://blog.wanderto.top</link>
	<description>随心录</description>
	<lastBuildDate>Mon, 06 May 2024 14:37:53 +0000</lastBuildDate>
	<language>zh-CN</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=6.4.3</generator>

<image>
	<url>https://blog.wanderto.top/wp-content/uploads/2024/04/cropped-logo33-32x32.png</url>
	<title>Flannel &#8211; DB`s Blog</title>
	<link>https://blog.wanderto.top</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>flanne自动部署工作节点失败记录</title>
		<link>https://blog.wanderto.top/2024/04/29/flanne-failed-to-automatically-deploy-a-working-node-because-of-it/</link>
					<comments>https://blog.wanderto.top/2024/04/29/flanne-failed-to-automatically-deploy-a-working-node-because-of-it/#respond</comments>
		
		<dc:creator><![CDATA[DB]]></dc:creator>
		<pubDate>Mon, 29 Apr 2024 16:52:41 +0000</pubDate>
				<category><![CDATA[问题记录]]></category>
		<category><![CDATA[Flannel]]></category>
		<category><![CDATA[K8S]]></category>
		<guid isPermaLink="false">https://blog.wanderto.top/?p=1126</guid>

					<description><![CDATA[<p>今天拔电源插头的时候拔错了，把服务器和路由那边的插头拔了，导致服务器重启。重启后工作节点上的pod一直在cre [&#8230;]</p>
<p>&lt;p&gt;The post <a rel="nofollow" href="https://blog.wanderto.top/2024/04/29/flanne-failed-to-automatically-deploy-a-working-node-because-of-it/">flanne自动部署工作节点失败记录</a> first appeared on <a rel="nofollow" href="https://blog.wanderto.top">DB`s Blog</a>.&lt;/p&gt;</p>
]]></description>
										<content:encoded><![CDATA[
<pre class="wp-block-preformatted">今天拔电源插头的时候拔错了，把服务器和路由那边的插头拔了，导致服务器重启。重启后工作节点上的pod一直在creating，发现是网络组件（flannel）一直在重试部署工作节点，用journalctl查看工作节点日志提示：
loadFlannelSubnetEnv failed: open /run/flannel/subnet.env: no such file or directory

一时丈二和尚摸不着头脑，折腾了一会突然想看看flannel的kubectl logs会不会有什么信息，结果发现连不上，这时恍然了，openvpn没连上了肯定是了。试ping了一下还真是，一看日志发现连接地址域名用的是alicloud.forseasioning.top,这个域名前两天我从Cloudflare转到了Gcore上，然后顺手删除了一些以为无用的DNS记录。。。。

重新加上alicloud.forseasioning.top的DNS记录后恢复了openvpn连接，一切都自动恢复了。

头脑风暴：
1.这个文件感觉是不是控制节点通过网络主动发给工作节点的，不然为什么找不到，不过如果是通过网络节点发送的不是应该先提示网络问题吗？
2.DNS删除两天了还没报错，看来DNS的本地记录在没有请求到新的实际有效的地址前一直都不会更新！</pre>
<p>&lt;p&gt;The post <a rel="nofollow" href="https://blog.wanderto.top/2024/04/29/flanne-failed-to-automatically-deploy-a-working-node-because-of-it/">flanne自动部署工作节点失败记录</a> first appeared on <a rel="nofollow" href="https://blog.wanderto.top">DB`s Blog</a>.&lt;/p&gt;</p>
]]></content:encoded>
					
					<wfw:commentRss>https://blog.wanderto.top/2024/04/29/flanne-failed-to-automatically-deploy-a-working-node-because-of-it/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
	</channel>
</rss>
