{"id":912,"date":"2024-04-22T05:22:34","date_gmt":"2024-04-22T05:22:34","guid":{"rendered":"https:\/\/blog.wanderto.top\/?p=912"},"modified":"2024-04-25T08:03:18","modified_gmt":"2024-04-25T08:03:18","slug":"nginx-ingress-redirect","status":"publish","type":"post","link":"https:\/\/blog.wanderto.top\/2024\/04\/22\/nginx-ingress-redirect\/","title":{"rendered":"Nginx Ingress\u57df\u540d\u91cd\u5b9a\u5411"},"content":{"rendered":"\n<div class=\"wp-block-group is-layout-constrained wp-block-group-is-layout-constrained\">\n<div class=\"wp-block-group is-vertical is-layout-flex wp-container-core-group-layout-1 wp-block-group-is-layout-flex\">\n<h2 class=\"wp-block-heading\">\u524d\u8a00<\/h2>\n\n\n\n<pre class=\"wp-block-preformatted\">\u7531\u4e8e\u672c\u7ad9\u4e3b\u57df\u540d\u4e3ablog.wanderto.top\uff0c\u4f46\u662f\u53c8\u5e0c\u671bwanderto.top\u4e5f\u80fd\u8bbf\u95ee\u672c\u7ad9\u3002\u591a\u4e2a\u57df\u540d\u6307\u5411\u7f51\u7ad9\u4e0d\u5229\u4e8eSEO\uff0c\u6240\u4ee5\u91c7\u7528\u91cd\u5b9a\u5411\u7684\u65b9\u5f0f\u3002\u672c\u7bc7\u6587\u7ae0\u4e3b\u8981\u8bb0\u5f55\u4e24\u79cdk8s\u4e2dNginx Ingress Controller\u91cd\u5b9a\u5411\u57df\u540d\u7684\u65b9\u6cd5<\/pre>\n<\/div>\n\n\n\n<div class=\"wp-block-group is-layout-constrained wp-block-group-is-layout-constrained\">\n<h2 class=\"wp-block-heading\">Permanent Redirect<\/h2>\n\n\n\n<pre class=\"wp-block-preformatted\" style=\"margin-top:0;margin-bottom:0\">redirect\u4e3b\u8981\u7528\u4e8e\u57df\u540d\u91cd\u5b9a\u5411\uff0c\u6bd4\u5982\u8bbf\u95eea.com\u88ab\u91cd\u5b9a\u5411\u5230b.com\n\u5982\u4e0b\u6211\u4eec\u914d\u7f6e\u8bbf\u95eeng.coolops.com\u91cd\u5b9a\u5411\u5230www.baidu.com<\/pre>\n\n\n\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"yaml\" data-enlighter-theme=\"\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"\" data-enlighter-title=\"\" data-enlighter-group=\"\">apiVersion: networking.k8s.io\/v1beta1\nkind: Ingress\nmetadata:\n  name: ingress-nginx\n  annotations:\n    kubernetes.io\/ingress.class: \"nginx\"\n    nginx.ingress.kubernetes.io\/permanent-redirect: \"https:\/\/www.baidu.com\"\nspec:\n  rules:\n  - host: ng.coolops.cn \n    http:\n      paths:\n      - path:\n        backend:\n          serviceName: ng-svc\n          servicePort: 80<\/pre>\n\n\n\n<pre class=\"wp-block-preformatted\" style=\"margin-top:0;margin-bottom:0\">\u4ee5\u4e0a\u53c2\u8003\u81ea\uff1a<a href=\"https:\/\/cloud.tencent.com\/developer\/article\/1628571\" target=\"_blank\" rel=\"noreferrer noopener nofollow\">https:\/\/cloud.tencent.com\/developer\/article\/1628571<\/a>\n\n\u6309\u4ee5\u4e0a\u8fd9\u79cd\u65b9\u5f0f\u5c1d\u8bd5\u4f7f\u7528nginx.ingress.kubernetes.io\/permanent-redirect\u4f46\u662f\u6ca1\u751f\u6548\uff0c\u4e0d\u77e5\u9053\u4e3a\u4ec0\u4e48\uff0c\u6211\u7684\u7248\u672c\u662f\u6700\u65b0\u7684\uff0c\u5e94\u8be5\u652f\u6301\u624d\u662f\u3002\u800c\u4e14\u6211\u5728<a href=\"https:\/\/docs.nginx.com\/nginx-ingress-controller\" data-type=\"link\" data-id=\"https:\/\/docs.nginx.com\/nginx-ingress-controller\" target=\"_blank\" rel=\"noreferrer noopener nofollow\">\u5b98\u65b9\u6587\u6863<\/a>\u4e5f\u6ca1\u6709\u770b\u5230\u8fd9\u79cd\u65b9\u5f0f<\/pre>\n\n\n\n<hr class=\"wp-block-separator has-alpha-channel-opacity\"\/>\n<\/div>\n\n\n\n<div class=\"wp-block-group is-layout-constrained wp-block-group-is-layout-constrained\">\n<h2 class=\"wp-block-heading\">Snippet<\/h2>\n\n\n\n<pre class=\"wp-block-preformatted\" style=\"margin-top:0;margin-bottom:0\">\u5b98\u65b9\u6587\u6863\u4e2d\u6709\u53e6\u4e00\u79cd\u53ef\u884c\u7684\u65b9\u5f0f\uff0c\u540c\u6837\u662f\u5728Ingress\u4e2d\u6dfb\u52a0\u4e00\u4e2aannotation\uff0c\u4e0d\u8fc7\u4f1a\u590d\u6742\u70b9\uff0c\u53c2\u8003\uff1a<a href=\"https:\/\/docs.nginx.com\/nginx-ingress-controller\/configuration\/ingress-resources\/advanced-configuration-with-snippets\/\" data-type=\"link\" data-id=\"https:\/\/docs.nginx.com\/nginx-ingress-controller\/configuration\/ingress-resources\/advanced-configuration-with-snippets\/\" target=\"_blank\" rel=\"noreferrer noopener\">sni<\/a><a href=\"https:\/\/docs.nginx.com\/nginx-ingress-controller\/configuration\/ingress-resources\/advanced-configuration-with-snippets\/\" data-type=\"link\" data-id=\"https:\/\/docs.nginx.com\/nginx-ingress-controller\/configuration\/ingress-resources\/advanced-configuration-with-snippets\/\" target=\"_blank\" rel=\"noreferrer noopener nofollow\">p<\/a><a href=\"https:\/\/docs.nginx.com\/nginx-ingress-controller\/configuration\/ingress-resources\/advanced-configuration-with-snippets\/\" data-type=\"link\" data-id=\"https:\/\/docs.nginx.com\/nginx-ingress-controller\/configuration\/ingress-resources\/advanced-configuration-with-snippets\/\" target=\"_blank\" rel=\"noreferrer noopener\">pet<\/a><\/pre>\n\n\n\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"yaml\" data-enlighter-theme=\"\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"\" data-enlighter-title=\"\" data-enlighter-group=\"\">  annotations:\n    nginx.org\/server-snippets: |\n      if ($host = 'old.example.com') {\n        return 301 https:\/\/new..example.com;\n      }<\/pre>\n\n\n\n<pre class=\"wp-block-preformatted\" style=\"margin-top:0;margin-bottom:0\">\u901a\u8fc7\u4f7f\u7528\u811a\u672c\u7684\u65b9\u5f0f\u91cd\u5b9a\u5411\uff0c\u4e0d\u8fc7\u9ed8\u8ba4\u662f\u5173\u95ed\u8fd9\u4e2a\u529f\u80fd\u7684\uff0c\u9700\u8981\u5f00\u542f\uff0c\u53c2\u8003\uff1a<a href=\"https:\/\/docs.nginx.com\/nginx-ingress-controller\/configuration\/global-configuration\/command-line-arguments#cmdoption-enable-snippets\" data-type=\"link\" data-id=\"https:\/\/docs.nginx.com\/nginx-ingress-controller\/configuration\/global-configuration\/command-line-arguments#cmdoption-enable-snippets\" target=\"_blank\" rel=\"noreferrer noopener nofollow\">\u76f8\u5173\u6587\u6863<\/a><\/pre>\n\n\n\n<hr class=\"wp-block-separator has-alpha-channel-opacity\"\/>\n<\/div>\n<\/div>\n\n\n","protected":false},"excerpt":{"rendered":"<p>\u524d\u8a00 \u7531\u4e8e\u672c\u7ad9\u4e3b\u57df\u540d\u4e3ablog.wanderto.top\uff0c\u4f46\u662f\u53c8\u5e0c\u671bwanderto.top\u4e5f\u80fd\u8bbf\u95ee\u672c\u7ad9\u3002\u591a\u4e2a [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":939,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"inline_featured_image":false,"site-container-style":"default","site-container-layout":"default","site-sidebar-layout":"default","site-transparent-header":"default","prose-style":"enable","disable-article-header":"default","disable-site-header":"default","disable-site-footer":"default","disable-content-area-spacing":"default","footnotes":"[]"},"categories":[50],"tags":[44,45],"_links":{"self":[{"href":"https:\/\/blog.wanderto.top\/wp-json\/wp\/v2\/posts\/912"}],"collection":[{"href":"https:\/\/blog.wanderto.top\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/blog.wanderto.top\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/blog.wanderto.top\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/blog.wanderto.top\/wp-json\/wp\/v2\/comments?post=912"}],"version-history":[{"count":33,"href":"https:\/\/blog.wanderto.top\/wp-json\/wp\/v2\/posts\/912\/revisions"}],"predecessor-version":[{"id":1019,"href":"https:\/\/blog.wanderto.top\/wp-json\/wp\/v2\/posts\/912\/revisions\/1019"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/blog.wanderto.top\/wp-json\/wp\/v2\/media\/939"}],"wp:attachment":[{"href":"https:\/\/blog.wanderto.top\/wp-json\/wp\/v2\/media?parent=912"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/blog.wanderto.top\/wp-json\/wp\/v2\/categories?post=912"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/blog.wanderto.top\/wp-json\/wp\/v2\/tags?post=912"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}